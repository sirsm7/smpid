<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SMPID - Portal Utama</title>
  
  <meta name="theme-color" content="#198754">
  <link rel="icon" href="icoppdag.png">
  
  <!-- CSS Bootstrap & FontAwesome -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  
  <!-- MODULAR CSS -->
  <link href="css/core.css" rel="stylesheet">
  <link href="css/layout.css" rel="stylesheet">
  <link href="css/components.css" rel="stylesheet">
  
  <!-- Library JS (Supabase WAJIB ada di sini untuk global access jika perlu) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
      /* Gaya Khas untuk Search Bar Gergasi */
      .search-hero {
          border-radius: 50px;
          border: 3px solid rgba(255,255,255,0.3);
          background: rgba(255,255,255,0.9);
          padding: 1.2rem 2rem;
          font-size: 1.2rem;
          font-weight: 700;
          color: var(--bs-primary);
          box-shadow: 0 10px 30px rgba(0,0,0,0.1);
          transition: all 0.3s ease;
      }
      .search-hero:focus {
          background: white;
          border-color: white;
          box-shadow: 0 15px 40px rgba(0,0,0,0.2);
          transform: translateY(-2px);
      }
      .search-hero::placeholder {
          color: #adb5bd;
          font-weight: 500;
      }
      
      /* Kad Sekolah Terpilih */
      .selected-school-card {
          border-top: 5px solid var(--bs-success);
          animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1);
      }
      
      @keyframes slideUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
      }

      /* Butang Grid */
      .action-btn {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 1.5rem;
          border-radius: 1rem;
          transition: all 0.2s ease;
          height: 100%;
          text-decoration: none;
          border: 1px solid rgba(0,0,0,0.05);
      }
      .action-btn:hover {
          transform: translateY(-5px);
          box-shadow: 0 10px 20px rgba(0,0,0,0.1);
      }
      
      .btn-data { background: #e8f5e9; color: #198754; } /* Hijau Muda */
      .btn-gallery { background: #e7f1ff; color: #0d6efd; } /* Biru Muda */
      .btn-admin { background: #f3e5f5; color: #6f42c1; } /* Ungu Muda */

      .btn-data:hover { background: #198754; color: white; }
      .btn-gallery:hover { background: #0d6efd; color: white; }
      .btn-admin:hover { background: #6f42c1; color: white; }

  </style>
</head>
<body class="bg-light">

  <div id="loadingOverlay" class="hidden">
    <div class="text-center">
      <div class="spinner-border text-white" role="status"></div>
      <p class="mt-2 fw-bold text-white">Memuatkan Data Sekolah...</p>
    </div>
  </div>

  <!-- HEADER -->
  <div class="header-bg text-center pb-5 pt-5 mb-5" style="padding-bottom: 6rem !important;">
    <img src="icoppdag.png" alt="Logo PPD" class="mb-3" style="width: 100px; height: auto;">
    <h2 class="fw-bold text-white px-3 mb-1">Sistem Maklumat Penyelaras ICT dan Admin DELIMa</h2>
    <p class="text-white-50 small mb-4">Unit Sumber Teknologi Pendidikan, Pejabat Pendidikan Daerah Alor Gajah</p>
    
    <!-- SEARCH BAR (Floating on Header) -->
    <div class="container px-4">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6 position-relative">
                <input type="text" id="mainSearch" list="schoolList" class="form-control search-hero text-center" 
                       placeholder="ðŸ” Cari Kod atau Nama Sekolah..." autocomplete="off">
                <datalist id="schoolList"></datalist>
            </div>
        </div>
    </div>
  </div>

  <!-- MAIN CONTENT CONTAINER -->
  <div class="container" style="margin-top: -3rem;">
    <div class="row justify-content-center">
      <div class="col-md-10 col-lg-8">

        <!-- KAD DINAMIK (Akan muncul bila sekolah dipilih) -->
        <div id="schoolCardContainer" class="hidden">
            <!-- Diisi oleh JavaScript -->
        </div>

        <!-- NOTA KAKI / PANDUAN RINGKAS (Bila tiada kad dipilih) -->
        <div id="welcomeMessage" class="text-center mt-5 text-muted fade-up">
            <i class="fas fa-search fa-3x mb-3 opacity-25"></i>
            <h5 class="fw-bold opacity-50">Sila pilih sekolah untuk bermula.</h5>
            <p class="small opacity-50">Taip kod sekolah (contoh: MBA0001) atau nama sekolah di ruang carian di atas.</p>
            
            <div class="mt-5">
                <a href="login.html?kod=M030" class="btn btn-sm btn-outline-secondary rounded-pill px-4 fw-bold">
                    <i class="fas fa-user-shield me-2"></i>Log Masuk PPD / Admin
                </a>
            </div>
        </div>

      </div>
    </div>
  </div>

  <!-- MODULAR JAVASCRIPT (DIKEMASKINI) -->
  <!-- Note: type="module" membolehkan penggunaan import/export -->
  <script type="module" src="js/landing.js"></script>

</body>
</html>